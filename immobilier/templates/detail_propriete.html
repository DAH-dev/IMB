<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Villa moderne à Cocody - Immobilier Abidjan</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  {% load static %}
  <style>
    html,
    body {
      width: 100%;
      overflow-x: hidden;
      /* Empêche le défilement horizontal */
      margin: 0;
      padding: 0;
    }

    /* Vos styles existants */
    :root {
      --primary: #1e4a8d;
      --accent: #ff6b00;
      --light: #f8f9fa;
      --success: #28a745;
      --secondary: #6c757d;
      --dark: #343a40;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f7fa;
      color: #333;
      background-color: white;
      background-color: #f5f7fa23;
    }

    header {
      background-color: var(--primary);
      padding: 5px 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      position: relative;
    }

    header .logo {
      color: white;
      font-weight: bold;
      font-size: 14px;
    }

    .nav-toggle {
      display: none;
      font-size: 20px;
      color: white;
      cursor: pointer;
    }

    nav {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    nav a {
      color: white;
      text-decoration: none;
    }
.icon_local{
  color: #007bff;
}
    .btn-orange {
      background-color: var(--accent);
      color: white;
      padding: 4px 8px;
      border: none;
      border-radius: 20px;
      text-decoration: none;
    }

    .etat {
      font-size: 12px;
      color: green;
      background-color: green;
      color: white;
      border-radius: 10px;
      padding: 3px;
    }

    .container {
      max-width: 1200px;
      max-width: 930px;
      /* Cette ligne écrase la précédente */
      margin: 20px auto;
      padding: 0 10px;
      /* background-color: white; */
      max-width: 90%;
    }

    .dtle {
      margin-bottom: 2px;
      padding-bottom: 2px;
    }

    h2.section-title {
      text-align: center;
      margin-bottom: 20px;
      font-size: 17px;
      color: var(--dark);
    }

    .property-detail {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 5px;
    }

    .property-info {
      flex: 2;
      background-color: white;
      border-radius: 10px;
      padding: 10px;
      padding-left: 20px;
      padding-right: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }

    .property-info h2 {
      font-size: 14px;
    }

    .property-info h3,
    .property-info p,
    .property-info h4,
    .property-info ul {
      font-size: 14px;
    }

    .property-info h1 {
      font-size: 15px;
      color: #007bff;
    }

    .property-contact {
      flex: 1;
      background-color: white;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
      border-top: 5px solid var(--primary);
    }

    .property-contact h3 {
      margin-bottom: 8px;
      color: var(--primary);
      font-size: 13px;
    }

    .property-contact input,
    .property-contact textarea {
      width: 100%;
      margin-bottom: 5px;
      padding: 3px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .property-contact button {
      background-color: var(--accent);
      color: white;
      padding: 4px;
      border: none;
      border-radius: 5px;
      font-size: 12px;
      width: 100%;
    }

    .property-video {
      aspect-ratio: 9 / 16;
      /* Ratio vertical */
      width: 100%;
      height: 330px;
      background-color: black;
      margin: 7px 0;
      border-radius: 10px;
      overflow: hidden;
    }

    /* Modifiez ou ajoutez ces styles dans votre section <style> */

    .carte_google {
      background-color: transparent;
      padding: 0;
      margin-top: 20px;
      height: 350px;
      border-radius: 10px;
      overflow: hidden;
    }

    .carte_google iframe {
      width: 100%;
      height: 80%;
      border-radius: 10px;
    }

    /* Ajustement pour les écrans mobiles pour éviter une carte trop grande */
    @media (max-width: 768px) {
      .carte_google {
        height: 200px;
        /*Une hauteur légèrement plus petite sur les petits écrans */
      }

      .carte_google iframe {

        height: 100%;
      }
    }



    .property-video video {
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      background-color: black;
      /* Pour les bandes noires */
    }


    .features {
      display: flex;
      gap: 20px;
      margin: 10px 0;
    }

    .features div {
      display: flex;
      align-items: center;
      gap: 4px;
      color: #007bff;
      color: #1e4a8d;
      ;
    }

    .characteristics ul {
      list-style: none;
      padding-left: 0;

    }

    .characteristics li {
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 5px;
    }

    .characteristics i {
      color: var(--success);
    }





    .property-card {
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }

    .property-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      object-fit: cover;
      display: block;
    }

    .property-card .card-body {
      padding: 10px;
    }


    /* Grid for properties */
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 1px;
      justify-content: center;
      justify-content: space-around;
      margin-left: -10px;
      margin-right: -10px;
    }

    /* ... (votre code CSS existant) ... */

    /* Ajustements pour les cartes de propriété */
    .cart_appartement {
      width: 200px;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.08);
      background: white;
      border-radius: 10px;
      /* Ajout de Flexbox pour une meilleure organisation interne */
      display: flex;
      flex-direction: column;
      /* Les éléments s'empilent verticalement */
      justify-content: space-between;
      /* Distribue l'espace entre les éléments */
      overflow: hidden;
      /* Assure que tout le contenu reste dans les bordures */
    }

    .img_appartement {
      padding: 5px;
      width: 100%;
      /* L'image prend toute la largeur de la carte */
      height: 170px;
      /* Hauteur fixe pour toutes les images */
      overflow: hidden;
      /* Masque tout ce qui dépasse */
    }

    .img_appartement img {
      width: 100%;
      height: 170px;
      margin: auto;
      border-radius: 3px;
      border-style: none;
      object-fit: cover;
      /* Recadre l'image pour couvrir la zone sans déformer */
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }

    .img_appartement video {
      width: 100%;
      height: 170px;
      margin: auto;
      border-radius: 3px;
      border-style: none;
      object-fit: cover;
      /* Recadre l'image pour couvrir la zone sans déformer */
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
    }

    .descrip_appartement {
      padding: 4px;
      /* Ajout d'un espacement intérieur */
      flex-grow: 1;
      /* Permet à cette section de prendre l'espace disponible */
    }

    .descrip_appartement h5 {
      font-size: 0, 8rem;
      /* Taille de police légèrement plus grande pour le titre */
      margin-bottom: 2px;
      color: var(--primary);
    }

    .descrip_appartement p {
      display: flex;
      /* Utilisation de Flexbox pour aligner icône et texte */
      align-items: center;
      /* Centre verticalement icône et texte */
      flex-wrap: nowrap;
      gap: 5px;
      /* Espace entre l'icône et le texte */
      font-size: 0.70rem;
      color: #555;
    }

    .descrip_appartement ul {
      list-style: none;
      /* Supprime les puces de liste */
      padding: 0;
      margin-top: 5px;
      display: flex;
      /* Affiche les éléments de la liste en ligne */
      flex-wrap: wrap;
      /* Permet aux éléments de passer à la ligne si l'espace manque */
      gap: 10px;
      /* Espace entre les éléments de la liste */
    }

    .descrip_appartement ul span {
      display: flex;
      align-items: center;
      gap: 1px;
      font-size: 0.7rem;
      color: #666;
    }

    .descrip_appartement p a {
      padding: 6px;
      /* Espacement autour du bouton */
      text-align: center;
    }


    .descrip_appartement p button {
      max-width: 230px;
      /* Limite la largeur maximale pour les grands écrans */
      padding: 2px;
      border: 2px solid var(--primary);
      /* Utilisation de la variable primary */
      background-color: var(--primary);
      /* Couleur de fond du bouton */
      color: white;
      /* Couleur du texte du bouton */
      border-radius: 6px;
      /* Bordures arrondies */
      font-size: 0, 7rem;

      cursor: pointer;
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }

    .descrip_appartement i {
      color: var(--success);
    }

    /* Ajustement de la grille pour les propriétés */
    .row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      /* Centre les cartes horizontalement */
      gap: 15px;
      /* Espace entre les cartes */
      padding: 0 5px;
      /* Ajout d'un petit padding pour les côtés */
    }

    @media (max-width: 768px) {
      .cart_appartement {
        width: 100%;
        /* Les cartes prennent toute la largeur sur mobile */
         max-width: 330px; 
        /* Limite la largeur sur les écrans intermédiaires */

      }

      .img_appartement {
        height: 250px;
      }

      .img_appartement img {
        height: 250px;
      }

      .img_appartement video {
        height: 250px;
      }

      .descrip_appartement h5 {
        font-size: 1.2rem;
      }

      .descrip_appartement ul span {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 0.90rem;
        color: #666;
      }

      .descrip_appartement p {
        gap: 5px;
        /* Espace entre l'icône et le texte */
        margin-bottom: 3px;
        font-size: 1rem;
        color: #555;
      }
    }







    /* Styles pour le Footer */
    .footer {
      background: var(--dark);
      color: rgba(255, 255, 255, 0.7);
      padding: 20px 0 10px;
      margin-top: 20px;
      width: 100%;
      /* S'assure que le footer prend 100% de la largeur de son parent (body) */
    }

    .footer-content-wrapper {
      max-width: 950px;
      /* Limite la largeur du contenu à l'intérieur du footer */
      margin: 0 auto;
      /* Centre le contenu du footer */
      padding: 0 20px;
      /* Ajoute un padding interne au contenu du footer */
    }

    .footer-columns {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      /* Assurez-vous qu'aucun style ici ne restreint la largeur */
    }

    .footer-column {
      flex: 1;
      min-width: 200px;
    }

    .footer a {
      color: white;
      text-decoration: none;
      display: block;
      margin-bottom: 5px;
    }

    .footer .socials i {
      margin-right: 15px;
    }

    /* ... le reste de votre CSS ... */

    @media (max-width: 768px) {

  
      .property-video {
        height: 300px;
        margin: 0;

      }
 
 
  

  
 
 
 
      .nav-toggle {
        display: block;
        display: flex;
        color: white;
      }
     nav {
        display: none;
        flex-direction: column;
        gap: 10px;
        background-color: var(--primary);
        position: absolute;
        top: 60px;
        left: 0;
        width: 100%;
        padding: 10px 20px;
        z-index: 1000; /* Ajoutez cette ligne pour le mettre au premier plan */
    }

    nav.active {
        display: flex;
    }

      .property-detail {
        flex-direction: column;
      }

      .features {
        display: flex;
        gap: 5px;

      }
    }
  </style>
</head>

<body>

  <header>
    <div class="logo"><i class="fas fa-home"></i> IMMOBILIER Abidjan</div>
    <div class="nav-toggle" onclick="document.querySelector('nav').classList.toggle('active')">
      <i class="fas fa-bars"></i>
    </div>
    <nav>
      <a href="#">Rechercher</a>
      <a href="#">Propriétaires</a>
      <a href="#">Avantages</a>
      <a href="#" >Contact</a>
      <a href="{% url 'login' %}" class="btn-orange">Connexion</a>
    </nav>
  </header>

  <div class="container dtle">
    <!-- <h2 class="section-title">Découvrez la propriété en détail</h2> -->
    <div class="property-detail">
      <div class="property-info">

        <p><i class="fas fa-map-marker-alt icon_local"  ></i> ville: <strong style="color: #007bff;">{{ propriete.ville }}</strong>   commune <strong style="color: #007bff;">{{ propriete.commune }}</strong> </p>
                <h2 style="color:#007bff;">{{ propriete.prix }} FCFA <span class="etat">{{ propriete.statut }}</span></h2>
                <div class="property-video">
          {% if propriete.video %}
          <video id="video" autoplay muted playsinline controls>
            <source src="{{ propriete.video.url }}" type="video/mp4">
            Votre navigateur ne supporte pas la balise vidéo.
          </video>
          {% elif propriete.image %}
          <img src="{{ propriete.image.url }}" alt="{{ propriete.titre }}">
          {% else %}
          <img src="{% static 'images/maison1.jpg' %}" alt="Image de remplacement">
          {% endif %}
        </div>
        <h1>{{ propriete.titre }}</h1>
        <h3>Description</h3>
        <p>{{ propriete.description }}</p>
        <div class="characteristics">
          <h4>Caractéristiques</h4>
          <ul>
            {% for caracteristique in propriete.caracteristiques|slice:":7" %}
            <p><i class="fas fa-check-circle"></i> {{ caracteristique }}</p>
            {% endfor %}

          </ul>
        </div>

      </div>

      <div class="property-contact">
        <h3><i class="fas fa-envelope"></i> Contacter le propriétaire</h3>
        <!-- <input type="text" placeholder="Votre nom complet">
        <input type="email" placeholder="Votre email">
        <input type="tel" placeholder="Votre téléphone">
        <textarea rows="3">Bonjour, je suis intéressé...</textarea>
        <button>Envoyer le message</button> -->

                <form method="post" action="{% url 'detail_propriete_web' pk=propriete.pk %}">
            {% csrf_token %}
            
            <input type="text" name="nom" placeholder="Votre nom complet" value="{% if request.user.is_authenticated %}{{ request.user.username }}{% endif %}">
            <input type="email" name="email" placeholder="Votre email" value="{% if request.user.is_authenticated %}{{ request.user.email }}{% endif %}">
            <input type="tel" name="telephone" placeholder="Votre téléphone" value="{% if request.user.is_authenticated %}{{ request.user.telephone }}{% endif %}">
            <textarea name="message" rows="3">Bonjour, je suis intéressé par la propriété {{ propriete.titre }} ({{ propriete.prix }} FCFA) à {{ propriete.ville }}, {{ propriete.commune }}.</textarea>
            
            <input type="hidden" name="sujet" value="Demande d'information pour la propriété : {{ propriete.titre }}">

            <button type="submit">Envoyer le message</button>
        </form>

        {% if request.user.is_authenticated %}
        <a href="{% url 'mes_messages' %}">
            <button style="background-color: #007bff; cursor: pointer;">Démarrer une discussion</button>
        </a>
        {% endif %}

        <!-- <a href="{% url 'mes_messages' %}"> <button style="background-color: #007bff; cursor: pointer;">demarer une
            discution</button></a> -->
        <div class="carte_google">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d254236.51213307356!2d-4.144482858417774!3d5.348769974316888!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2sci!4v1752891909877!5m2!1sfr!2sci"
            width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>

        </div>
      </div>
    </div>
  </div>


<div class="container">
    <h2 class="section-title">Propriétés type </h2>
    <div class="row">
        {% for prop_similaire in proprietes_similaires %}
        <div class="cart_appartement">
            <div class="img_appartement">
                <a href="{% url 'detail_propriete_web' pk=prop_similaire.pk %}">
                    {% if prop_similaire.image %}
                        <img src="{{ prop_similaire.image.url }}" alt="{{ prop_similaire.titre }}">
                    {% elif prop_similaire.video %}
                        <video controls muted>
                            <source src="{{ prop_similaire.video.url }}" type="video/mp4">
                            Votre navigateur ne supporte pas la balise vidéo.
                        </video>
                    {% else %}
                        <img src="{% static 'images/placeholder.jpg' %}" alt="Image non disponible">
                    {% endif %}
                </a>
            </div>
            <div class="descrip_appartement">
                <h5>{{ prop_similaire.titre }}</h5>
                {% for caracteristique in prop_similaire.caracteristiques|slice:":3" %}
                <p><i class="fas fa-check-circle"></i> {{ caracteristique }}</p>
                {% endfor %}
                <p>
                    <strong> <i class="fas fa-calendar-alt me-2"></i> publié le {{ prop_similaire.date_publication|date:"d/m/Y" }}</strong>
                    200 vues
                </p>
            </div>
        </div>
        {% empty %}
        <p>Aucune autre propriété de ce type n'est disponible pour le moment.</p>
        {% endfor %}
    </div>
</div>

  <footer class="footer">
    <div class="footer-content-wrapper">
      <div class="footer-columns">
        <div class="footer-column">
          <h4>IMMOBILIER Abidjan</h4>
          <p>Plateforme innovante pour faciliter la recherche et la présentation de propriétés à Abidjan.</p>
          <div class="socials">
            <i class="fab fa-facebook"></i>
            <i class="fab fa-twitter"></i>
            <i class="fab fa-instagram"></i>
          </div>
        </div>
        <div class="footer-column">
          <h4>Liens rapides</h4>
          <a href="#">Accueil</a>
          <a href="#">Rechercher une propriété</a>
          <a href="#">Devenir propriétaire</a>
          <a href="#">À propos</a>
          <a href="#">Contact</a>
        </div>
        <div class="footer-column">
          <h4>Contactez-nous</h4>
          <p><i class="fas fa-map-marker-alt"></i> Plateau, Abidjan, Côte d’Ivoire</p>
          <p><i class="fas fa-phone"></i> +225 20 30 40 50</p>
          <p><i class="fas fa-envelope"></i> contact@immobilier-abidjan.ci</p>
        </div>
      </div>
    </div>
    <p style="text-align:center; margin-top:20px;">© 2023 IMMOBILIER Abidjan. Tous droits réservés.</p>
  </footer>


 <script>
    const video = document.getElementById("video");

    // Lecture automatique dès que la page est chargée
    window.addEventListener("load", () => {
      video.play().catch(e => {
        // Certains navigateurs peuvent bloquer autoplay
        console.log("Autoplay bloqué : ", e);
      });
    });
</script>


</body>

</html>